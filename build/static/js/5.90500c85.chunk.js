(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{100:function(e,t,r){e.exports={wrapper:"MoviesPage_wrapper__UO4YH"}},109:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return S}));var n=r(62),a=r.n(n),i=r(63),c=r(57),o=r(58),s=r(61),u=r(60),l=r(0),m=r(3),h=r(56),v={type:"text",name:"query",placeholder:"Enter movie to search",required:!0},p=r(70),b=r(99),d=r.n(b),f=r(1),j=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={searchQuery:""},e.handleChange=function(t){var r=t.target;e.setState({searchQuery:r.value})},e.handleSubmit=function(t){t.preventDefault();var r=e.state.searchQuery;e.props.onSubmit(r),e.setState({searchQuery:""})},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.state.searchQuery,t=this.handleSubmit,r=this.handleChange;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:d.a.form,onSubmit:t,children:[Object(f.jsx)("input",Object(h.a)(Object(h.a)({className:d.a.input,onChange:r},v),{},{value:e})),Object(f.jsx)(p.a,{type:"submit",children:"Search"})]})})}}]),r}(l.Component),g=r(54),y=r(65),x=r(55),O=r(100),_=r.n(O),S=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={movies:[],query:"",loading:!1,error:null,submit:!1},e.onChangeQuery=function(t){e.setState({query:t,movies:[],loading:!0,error:null,submit:!0})},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,r,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=new URLSearchParams(this.props.location.search).get("query"))){e.next=18;break}return e.prev=2,e.next=5,Object(g.d)(t);case 5:r=e.sent,n=r.data,i=n.results,this.setState({movies:i,loading:!1,submit:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.setState({loading:!1,submit:!1,error:e.t0});case 14:return e.prev=14,this.setState({loading:!1,submit:!1}),e.finish(14);case 17:case 18:case"end":return e.stop()}}),e,this,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(a.a.mark((function e(t,r,n){var i,c,o,s,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.state,c=i.loading,o=i.query,!c){e.next=18;break}return e.prev=2,e.next=5,Object(g.d)(o);case 5:s=e.sent,u=s.data,l=u.results,this.setState({movies:l,loading:!1,submit:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.setState({loading:!1,submit:!1,error:e.t0});case 14:return e.prev=14,this.setState({loading:!1,submit:!1}),e.finish(14);case 17:case 18:case"end":return e.stop()}}),e,this,[[2,11,14,17]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.movies,r=e.submit,n=e.query,a=e.error,i=this.onChangeQuery;if(r){var c={pathname:"/movies",search:"?query=".concat(n)};return Object(f.jsx)(m.a,{to:c})}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j,{onSubmit:i}),Object(f.jsx)("div",{className:_.a.wrapper,children:Object(f.jsx)(y.a,{movies:t})}),a&&Object(f.jsx)(x.a,{text:"Something went wrong. Try again!"})]})}}]),r}(l.Component)},54:function(e,t,r){"use strict";r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l}));var n=r(66),a=r.n(n).a.create({baseURL:"https://api.themoviedb.org"}),i="72b9442e19a2a38e518b31c4b7e30f13",c=function(){return a.get("/3/trending/all/day?api_key=".concat(i))},o=function(e){return a.get("/3/search/movie?api_key=".concat(i,"&language=en-US&page=1&query=").concat(e,"&page=$"))},s=function(e){return a.get("/3/movie/".concat(e,"?api_key=").concat(i))},u=function(e){return a.get("/3/movie/".concat(e,"/credits?api_key=").concat(i))},l=function(e){return a.get("/3/movie/".concat(e,"/reviews?api_key=").concat(i))}},55:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r(0);var n=r(64),a=r.n(n),i=r(1);var c=function(e){var t=e.text;return Object(i.jsx)("p",{className:a.a.error,children:t})}},59:function(e,t,r){"use strict";t.a=r.p+"static/media/404.7d0f193e.jpeg"},64:function(e,t,r){e.exports={error:"ErrorMessage_error__35ldj"}},65:function(e,t,r){"use strict";var n=r(56),a=(r(0),r(11)),i=r(59),c=r(67),o=r.n(c),s=r(1);var u=function(e){var t=e.id,r=e.poster_path,n=e.original_title,c=e.original_name,u=r?"https://image.tmdb.org/t/p/w500".concat(r):i.a,l=n||c;return Object(s.jsxs)("li",{className:o.a.item,children:[Object(s.jsx)(a.b,{to:"/movies/".concat(t),children:Object(s.jsx)("img",{className:o.a.movieCardImg,src:u,alt:l})}),Object(s.jsx)("h3",{className:o.a.movieCardTitle,children:l})]})},l=r(68),m=r.n(l);function h(e){var t=e.movies.map((function(e){return Object(s.jsx)(u,Object(n.a)({},e),e.id)}));return Object(s.jsx)("ul",{className:m.a.galleryMovies,children:t})}t.a=h;h.defaultProps={movies:[]}},67:function(e,t,r){e.exports={movieCardImg:"MovieListItem_movieCardImg__2Byk5",movieCardTitle:"MovieListItem_movieCardTitle__2Cjy2"}},68:function(e,t,r){e.exports={galleryMovies:"MovieList_galleryMovies__33CxI"}},69:function(e,t,r){e.exports={button:"Button_button__1UZnV"}},70:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r(0);var n=r(69),a=r.n(n),i=r(1);var c=function(e){var t=e.children,r=e.type,n=void 0===r?"button":r,c=e.onClick,o=void 0===c?function(){return null}:c;return Object(i.jsx)("button",{className:a.a.button,type:n,onClick:o,children:t})}},99:function(e,t,r){e.exports={input:"SearchForm_input__26wSB",button:"SearchForm_button__3l85o",form:"SearchForm_form__291QO"}}}]);
//# sourceMappingURL=5.90500c85.chunk.js.map