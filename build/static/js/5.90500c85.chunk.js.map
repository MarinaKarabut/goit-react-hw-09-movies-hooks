{"version":3,"sources":["client/Movie/pages/MoviesPage/MoviesPage.module.css","client/Movie/components/SearchForm/fields.js","client/Movie/components/SearchForm/SearchForm.jsx","client/Movie/pages/MoviesPage/MoviesPage.jsx","shared/services/basic-http-service.js","client/Movie/service/movie-service.js","client/Movie/components/ErrorMessage/ErrorMessage.jsx","images/404.jpeg","client/Movie/components/ErrorMessage/ErrorMessage.module.css","client/Movie/components/MovieListItem/MovieListItem.jsx","client/Movie/components/MovieList/MovieList.jsx","client/Movie/components/MovieListItem/MovieListItem.module.css","client/Movie/components/MovieList/MovieList.module.css","shared/Button/Button.module.css","shared/Button/Button.jsx","client/Movie/components/SearchForm/SearchForm.module.css"],"names":["module","exports","fields","type","name","placeholder","required","SearchForm","state","searchQuery","handleChange","target","setState","value","handleSubmit","e","preventDefault","props","onSubmit","this","className","styles","form","input","onChange","Button","Component","MoviesPage","movies","query","loading","error","submit","onChangeQuery","a","URLSearchParams","location","search","get","searchMovies","data","newMovies","results","prevProps","prevState","snapshot","redirectOptions","pathname","to","wrapper","MovieList","ErrorMessage","text","instance","axios","create","baseURL","API_KEY","trendMovies","getOneMovie","id","getMovieCast","movieId","getMovieReviews","MovieListItem","poster_path","original_title","original_name","newImg","defaultImg","title","item","movieCardImg","src","alt","movieCardTitle","movieElement","map","movie","galleryMovies","defaultProps","children","onClick","button"],"mappings":"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","file":"static/js/5.90500c85.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MoviesPage_wrapper__UO4YH\"};","export const fields = {\n  query: {\n    type: \"text\",\n    name: \"query\",\n    placeholder: \"Enter movie to search\",\n    required: true,\n  },\n}\n","import React, { Component } from 'react';\nimport { fields } from './fields'\nimport Button from '../../../../shared/Button'\n\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n    state = {\n        searchQuery: \"\",\n    }\n    \n     handleChange = ({ target }) => {\n        this.setState({\n            searchQuery: target.value\n        })\n    }\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const {searchQuery}=this.state\n        this.props.onSubmit(searchQuery)\n        this.setState({\n            searchQuery: \"\",\n        })\n    }\n\n    render() {\n        const { searchQuery}= this.state\n        const { handleSubmit, handleChange}=this\n        return (\n             <>\n                <form className={ styles.form} onSubmit={handleSubmit}>\n                    <input className={styles.input} onChange={handleChange} {...fields.query} value={searchQuery} />                  \n                    <Button type=\"submit\">Search</Button>\n                </form>\n             \n            </>\n         );\n    }\n}\n \nexport default SearchForm;\n","\nimport { Component } from 'react';\nimport { Redirect } from \"react-router-dom\"\nimport SearchForm from '../../components/SearchForm/SearchForm';\nimport { searchMovies } from '../../service/movie-service';\nimport MovieList from '../../components/MovieList';\nimport ErrorMessage from '../../components/ErrorMessage';\n\n\nimport styles from './MoviesPage.module.css';\n\n\n\n\n\nclass MoviesPage extends Component {\n    state = {\n        movies: [],\n        query: \"\",\n        loading: false,\n        error: null,\n        submit:false\n    };\n\n    async componentDidMount() {\n        const query = new URLSearchParams(this.props.location.search).get('query')\n\n        if (query) {\n\n         try {\n            const { data } = await searchMovies(query)\n            const newMovies = data.results\n\n            this.setState({\n                    movies: newMovies,\n                    loading: false,\n                    submit:false\n                }) \n            }\n            catch (error) {\n                this.setState({\n                    loading: false,\n                    submit:false,\n                    error\n                })\n            }\n            finally{\n                this.setState({ loading: false, submit:false })\n            };  \n              \n        }\n    }\n \n    \n   async componentDidUpdate(prevProps, prevState, snapshot) {\n       const { loading, query } = this.state\n       \n        if (loading) {\n            try {\n            const { data } = await searchMovies(query)\n            const newMovies = data.results\n\n            this.setState({\n                    movies: newMovies,\n                    loading: false,\n                    submit:false\n                }) \n            }\n            catch (error) {\n                this.setState({\n                    loading: false,\n                    submit:false,\n                    error\n                })\n            }\n            finally{\n                this.setState({ loading: false, submit:false })\n            };\n        \n        }   \n    }\n\n     \n    \n    onChangeQuery = searchQuery => {\n        this.setState({\n            query: searchQuery,\n            movies: [],\n            loading: true,\n            error: null,\n            submit: true\n        })\n    }\n\n    \n    render() {\n\n        const { movies, submit, query, error} = this.state\n        const { onChangeQuery } = this\n        if(submit){\n            const redirectOptions = {\n                pathname: \"/movies\",\n                search: `?query=${query}`\n            };\n            return <Redirect to={redirectOptions}/>\n        }\n\n    \n        return (\n            <>\n                \n                <SearchForm onSubmit={onChangeQuery} />\n                <div className={styles.wrapper}>\n                    <MovieList movies={movies} />\n                </div>\n                {error && <ErrorMessage text={`Something went wrong. Try again!`} />}\n            \n            </>\n        )\n    }\n}\n    \n export default MoviesPage;\n \n","import axios from \"axios\"\n\nconst instance = axios.create({\n  baseURL: \"https://api.themoviedb.org\",\n})\n\nexport default instance\n","import instance from \"../../../shared/services/basic-http-service\"\n\nconst API_KEY = \"72b9442e19a2a38e518b31c4b7e30f13\"\n\nexport const trendMovies = () => {\n  return instance.get(`/3/trending/all/day?api_key=${API_KEY}`)\n}\n\nexport const searchMovies = (query) => {\n  return instance.get(\n    `/3/search/movie?api_key=${API_KEY}&language=en-US&page=1&query=${query}&page=$`\n  )\n}\n\nexport const getOneMovie = (id) => {\n  return instance.get(`/3/movie/${id}?api_key=${API_KEY}`)\n}\n\nexport const getMovieCast = (movieId) => {\n  return instance.get(`/3/movie/${movieId}/credits?api_key=${API_KEY}`)\n}\n\nexport const getMovieReviews = (movieId) => {\n  return instance.get(`/3/movie/${movieId}/reviews?api_key=${API_KEY}`)\n}\n","import React from 'react';\n\nimport styles from './ErrorMessage.module.css'\n\nimport PropTypes from 'prop-types';\n\nfunction ErrorMessage({text}) {\n    return <p className={styles.error}>{text}</p>\n        \n};\n\nexport default ErrorMessage;\n\nErrorMessage.propTypes ={\n    text: PropTypes.string.isRequired\n}\n\n","export default __webpack_public_path__ + \"static/media/404.7d0f193e.jpeg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ErrorMessage_error__35ldj\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport defaultImg from '../../../../images/404.jpeg';\n\nimport styles from './MovieListItem.module.css';\n\nfunction MovieListItem({ id, poster_path, original_title, original_name }) {\n    const newImg = poster_path ? `https://image.tmdb.org/t/p/w500${poster_path}` : defaultImg\n    const title= original_title ? original_title : original_name\n    return (\n        <li className={styles.item}>\n                <Link to={`/movies/${id}`}>\n                <img className={ styles.movieCardImg}\n                    src={newImg}\n                    alt={title}\n                />\n                \n                </Link>\n                <h3 className={styles.movieCardTitle}>{title}</h3>\n            </li>\n    )\n};\n\nexport default MovieListItem;\n\nMovieListItem.propTypes = {\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string,\n    id : PropTypes.number.isRequired,\n  };\n  \n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MovieListItem from '../MovieListItem';\n\nimport styles from './MovieList.module.css';\n\nfunction MovieList({ movies }) {\n    const movieElement = movies.map(movie => (<MovieListItem key={movie.id} {...movie}/>)\n        )\n    return (\n        \n            <ul className={styles.galleryMovies}>\n                {movieElement}\n            </ul>\n    )\n};\n\nexport default MovieList;\n\n\nMovieList.defaultProps = {\n    movies: [],\n}\n\n\nMovieList.propTypes = {\n    movies: PropTypes.array,\n  }\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieCardImg\":\"MovieListItem_movieCardImg__2Byk5\",\"movieCardTitle\":\"MovieListItem_movieCardTitle__2Cjy2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryMovies\":\"MovieList_galleryMovies__33CxI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1UZnV\"};","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport styles from './Button.module.css'\n\nfunction Button ({ children, type = 'button', onClick = () => null }) {\n    return <button  className={styles.button} type={type} onClick={onClick}>{children}</button>\n};\n\nexport default Button;\n\nButton.propTypes = {\n    type: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"SearchForm_input__26wSB\",\"button\":\"SearchForm_button__3l85o\",\"form\":\"SearchForm_form__291QO\"};"],"sourceRoot":""}